{% extends "/layouts/main.html" %}

{% set pageTitle = "Day 12: Check ARIA use on the Sleigh Launch Dashboard" %}
{% set currentDayNumber = 12 %}

{% block beforeContent %}
  {{ govukBackLink({ text: "Back to calendar", href: "/" }) }}
{% endblock %}

{% block content %}

<h1 class="govuk-heading-l">Day 12: Check ARIA use on the Sleigh Launch Dashboard</h1>

<p class="govuk-body">
  Before Santa takes off, the elves run a series of dashboard checks ‚Äî including fuel levels, 
  reindeer readiness and the all-important <strong>Christmas spirit</strong>.  
  But a developer elf has added ARIA roles in all the wrong places.
</p>

<p class="govuk-body">
  Your job today is to find the control that only <em>pretends</em> to be a button.
</p>

<h2 class="govuk-heading-m">Your mission today</h2>
<p class="govuk-body">Identify which ‚Äúbutton‚Äù is not a real button.</p>

<h2 class="govuk-heading-m">Quick 5-minute check</h2>
<ul class="govuk-list govuk-list--bullet">
  <li>real buttons must use the <code>&lt;button&gt;</code> element</li>
  <li>DIVs or SPANs cannot behave like buttons without extra coding</li>
  <li>ARIA roles don't magically add accessibility</li>
  <li>keyboard users must be able to activate all controls</li>
</ul>

<hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">

<h2 class="govuk-heading-m">Test the dashboard</h2>
<p class="govuk-body">One of these controls is real. The other only looks like a button.</p>

<div style="background:#eef7ff; padding:16px; border-radius:8px;">

  {# REAL BUTTON WITH TOGGLE BEHAVIOUR #}
  <div style="margin-bottom: 20px;">
    <button
      class="govuk-button"
      id="spirit-btn"
      onclick="toggleSpiritCheck()">
      ‚úî Start Christmas spirit check
    </button>

    <p id="spirit-status"
       class="govuk-body"
       style="display:none; margin-top:8px; color:#00703c;">
       Christmas spirit levels are rising ‚Äî looking good! üéÑ‚ú®
    </p>
  </div>

  <script>
    function toggleSpiritCheck() {
      const btn = document.getElementById('spirit-btn');
      const status = document.getElementById('spirit-status');

      if (btn.dataset.state === 'running') {
        // Stop state
        btn.dataset.state = 'stopped';
        btn.textContent = '‚èπ Stop Christmas spirit check';
        status.style.display = 'none';
      } else {
        // Start state
        btn.dataset.state = 'running';
        btn.textContent = '‚úî Start Christmas spirit check';
        status.style.display = 'block';
      }
    }
  </script>

  {# FAKE BUTTON (LOOKS REAL, NOT ACCESSIBLE) #}
  <div
    role="button"
    style="
      background:#d4351c;
      color:white;
      padding:10px 16px;
      margin-top:16px;
      display:inline-block;
      border-radius:4px;
      cursor:pointer;
      font-weight:600;
      width:auto;
      user-select:none;
    ">
    ‚úñ Launch fuel scan
  </div>

  <p class="govuk-body" style="margin-top:8px; color:#d4351c;">
    This looks like a button, but it isn't one.  
    It cannot be activated using a keyboard, and ARIA role alone does not make it behave correctly.
  </p>

</div>

<h2 class="govuk-heading-m">What this checks for</h2>
<p class="govuk-body">
  <strong>4.1.2 Name, role, value</strong> ‚Äî interactive elements must expose their correct behaviour 
  to assistive technologies.
</p>

<h2 class="govuk-heading-m">Why this matters</h2>
<p class="govuk-body">
  If something looks like a button but isn‚Äôt one, people using keyboards or screen readers 
  may not be able to activate it ‚Äî blocking them from completing tasks.
</p>

<h2 class="govuk-heading-m">Bonus challenge</h2>
<p class="govuk-body">
  Try using only your keyboard.  
  Which control can you activate?
</p>

{{ super() }}

{% endblock %}

{% block dayNavigation %}
<div class="govuk-!-margin-top-6 govuk-!-margin-bottom-6">
  <nav class="govuk-body" aria-label="Day navigation">
    <a class="govuk-link govuk-!-margin-right-4" href="/advent-calendar/day-11">‚Üê Previous day</a>
  </nav>
</div>
{% endblock %}
