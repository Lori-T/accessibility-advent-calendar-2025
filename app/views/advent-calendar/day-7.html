{% extends "/layouts/main.html" %}

{% set pageTitle = "Day 7: Check form labels on the Elf Task Submission Form" %}
{% set currentDayNumber = 7 %}

{% block beforeContent %}
  {{ govukBackLink({
      text: "Back to home",
      href: "/"
  }) }}
{% endblock %}

{% block content %}

<h1 class="govuk-heading-l">Day 7: Check form labels on the Elf Task Submission Form</h1>

<p class="govuk-body">
  Elves across Santa HQ submit daily updates using the
  <strong>Elf Task Submission Form</strong>, managed by the
  <strong>Department of Elfish Affairs</strong> (DEA).
  Recently, some elves reported difficulty completing the form using assistive technology.
</p>

<p class="govuk-body">
  Initial checks suggest that not all form fields have clear labels,
  making it difficult for screen reader users to understand what information is required.
</p>

<h2 class="govuk-heading-m">Your mission today</h2>
<p class="govuk-body">
  Check that every form field has a clear, programmatic label.
</p>

<h2 class="govuk-heading-m">Quick 5-minute check</h2>
<ul class="govuk-list govuk-list--bullet">
  <li>every input must have a visible and descriptive label</li>
  <li>labels should be correctly associated using <code>for</code> and <code>id</code></li>
  <li>placeholder text must not be used instead of a label</li>
  <li>screen readers should announce the label automatically</li>
</ul>

<hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">

<h2 class="govuk-heading-m">Test the Elf Task Submission Form</h2>
<p class="govuk-body">
  This simplified example shows part of the form elves use to log their daily
  workshop duties. One field has a deliberate accessibility issue - it appears
  labelled visually, but has no accessible name at all.
</p>

<div class="govuk-!-padding-4 govuk-!-margin-bottom-4"
     style="background:#f7f7f7; border-radius:8px; max-width: 640px;">

  <div class="govuk-form-group">
    <label class="govuk-label" for="toy-type">
      Toy worked on
    </label>
    <input class="govuk-input" id="toy-type" type="text">
  </div>

  <!-- ❌ DELIBERATE ACCESSIBILITY ISSUE -->
  <div class="govuk-form-group">
    <!-- Looks like a label, but hidden from assistive tech -->
    <p class="govuk-label" aria-hidden="true">
      Festive task completed
    </p>

    <!-- Empty accessible name -->
    <span id="missing-label" class="govuk-visually-hidden"></span>

    <input
      class="govuk-input"
      type="text"
      aria-labelledby="missing-label"
      aria-label=" "
      placeholder="❌ for example, 1, 100, 1 million?">
  </div>

  <div class="govuk-form-group">
    <label class="govuk-label" for="shift-hours">
      Hours spent in the workshop
    </label>
    <input class="govuk-input" id="shift-hours" type="number">
  </div>

</div>

<h2 class="govuk-heading-m">What this checks for</h2>
<p class="govuk-body">
  <strong>1.3.1 info and relationships</strong> and
  <strong>4.1.2 name, role, value</strong> – form fields must expose clear labels to assistive technologies.
</p>

<h2 class="govuk-heading-m">Why this matters</h2>
<p class="govuk-body">
  Screen reader users rely on labels to understand what information is expected.
  When a field has no accessible name, it becomes confusing or impossible to complete.
</p>

<h2 class="govuk-heading-m">
  Finding this issue using the Workshop Accessibility Verification Engine (WAVE)
</h2>

<p class="govuk-body">
  When <a href="https://wave.webaim.org/extension/" class="govuk-link">WAVE</a>
  is run on a page like this, it highlights form controls that are missing associated labels.
</p>

<p class="govuk-body">
  WAVE is useful for spotting missing labels quickly, but testing with a screen reader
  confirms how fields are actually announced to users.
</p>

<img
  src="{{ asset_path }}images/wave7.png"
  alt="Screenshot of the WAVE tool highlighting a form field with a missing label"
  style="width: 25%; border-radius: 8px;">

<h2 class="govuk-heading-m">Bonus challenge</h2>
<p class="govuk-body">
  Turn on a screen reader and move through the form fields.
  Which field is announced simply as “edit blank”, and why?
</p>

{{ super() }}
{% endblock %}

{% block dayNavigation %}
<div class="govuk-!-margin-top-6 govuk-!-margin-bottom-6">
  <nav class="govuk-body" aria-label="Day navigation">

    {% if currentDayNumber > 1 %}
      <a class="govuk-link govuk-!-margin-right-4"
         href="/advent-calendar/day-{{ currentDayNumber - 1 }}">
        ← Previous day
      </a>
    {% endif %}

    {% if currentDayNumber < 12 %}
      <a class="govuk-link"
         href="/advent-calendar/day-{{ currentDayNumber + 1 }}">
        Next day →
      </a>
    {% endif %}

  </nav>
</div>
{% endblock %}
