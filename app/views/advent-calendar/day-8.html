{% extends "/layouts/main.html" %}

{% set pageTitle = "Day 8: Check error messages on the Gift Labelling Machine" %}
{% set currentDayNumber = 8 %}

{% block beforeContent %}
  {{ govukBackLink({ text: "Back to calendar", href: "/" }) }}
{% endblock %}

{% block content %}

<h1 class="govuk-heading-l">Day 8: Check error messages on the Gift Labelling Machine</h1>

<p class="govuk-body">
  The <strong>Gift Labelling Machine</strong> applies tags to presents automatically.
  But when an elf enters something incorrectly, the error messages are easy to miss
  - or not linked to the input they relate to.
</p>

<p class="govuk-body">
  Today you’ll check whether errors are clear, accessible and connected to fields.
</p>

<h2 class="govuk-heading-m">Your mission today</h2>
<p class="govuk-body">Check whether users can easily spot and understand errors.</p>

<h2 class="govuk-heading-m">Quick 5-minute check</h2>
<ul class="govuk-list govuk-list--bullet">
  <li>errors must appear next to the relevant field</li>
  <li>screen readers must be able to announce the error</li>
  <li>error text must explain what went wrong and how to fix it</li>
  <li>error summary must link to fields when used</li>
</ul>

<hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">

<h2 class="govuk-heading-m">Test the Gift Labelling Form</h2>
<p class="govuk-body">One error below has a deliberate accessibility issue.</p>

<div style="background:#fff8f8; padding:16px; border-radius:8px;">
  <div class="govuk-form-group govuk-form-group--error">
    <label class="govuk-label" for="gift-id">Gift ID</label>
    <span class="govuk-error-message">Enter a valid ID</span>
    <input class="govuk-input govuk-input--error" id="gift-id">
  </div>

  <div class="govuk-form-group">
    <label class="govuk-label" for="label-text">Label text</label>
    <span style="color:#d4351c;">
      ❌ Error message displayed but not linked to the input
    </span>
    <input class="govuk-input" id="label-text">
  </div>
</div>

<h2 class="govuk-heading-m">What this checks for</h2>
<p class="govuk-body"><strong>1.3.1 info and relationships</strong> - errors must be programmatically linked to inputs.</p>

<h2 class="govuk-heading-m">Why this matters</h2>
<p class="govuk-body">
  If users cannot find or understand errors, they cannot correct them - creating 
  a blocker in the journey.
</p>

<h2 class="govuk-heading-m">Bonus challenge</h2>
<p class="govuk-body">Try using a screen reader.  
Which error is not announced correctly?</p>

{{ super() }}
{% endblock %}

{% block dayNavigation %}
<div class="govuk-!-margin-top-6 govuk-!-margin-bottom-6">
  <nav class="govuk-body" aria-label="Day navigation">
    <a class="govuk-link govuk-!-margin-right-4" href="/advent-calendar/day-7">← Previous day</a>
    <a class="govuk-link" href="/advent-calendar/day-9">Next day →</a>
  </nav>
</div>
{% endblock %}
