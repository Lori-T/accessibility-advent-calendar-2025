{% extends "/layouts/main.html" %}

{% set pageTitle = "Day 12: Check focus order follows the visual layout" %}

{% block content %}

<p class="govuk-body">
  Santa’s route planner helps him check each stop on Christmas Eve. On screen it looks logical,
  but the keyboard focus jumps around in a confusing order.
</p>

<h2 class="govuk-heading-m">Your mission today</h2>
<p class="govuk-body">
  Check that the order of focus matches the visual reading order of the page.
</p>

<h2 class="govuk-heading-m">Quick 5-minute check</h2>
<ul class="govuk-list govuk-list--bullet">
  <li>press <strong>Tab</strong> repeatedly from the top of the page</li>
  <li>check whether focus moves left-to-right and top-to-bottom in a logical way</li>
  <li>ensure you do not jump unexpectedly between sections</li>
  <li>watch out for tabindex attributes that override the natural order</li>
</ul>

<hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">

<h2 class="govuk-heading-m">Test the route planner</h2>
<p class="govuk-body">
  Below is a row of “stops” on Santa’s route. The tab order has been deliberately
  changed so that focus jumps in a non-visual order.
</p>

<div class="govuk-button-group govuk-!-margin-top-2">

  {# ❌ Deliberate issue: tabindex values change the natural order #}
  <button class="govuk-button govuk-button--secondary" type="button" tabindex="3">
    Stop 1 - Lapland
  </button>

  <button class="govuk-button govuk-button--secondary" type="button" tabindex="1">
    Stop 2 - Europe
  </button>

  <button class="govuk-button govuk-button--secondary" type="button" tabindex="2">
    Stop 3 - North America
  </button>

</div>

<p class="govuk-body govuk-!-margin-top-2">
  Try tabbing across these buttons. Focus does not move from left to right.
  This can be confusing and disorientating for keyboard users.
</p>

<h2 class="govuk-heading-m">The WCAG 2.2 skill behind this</h2>
<p class="govuk-body">
  <strong>2.4.3 focus order</strong> - focus should move in an order that preserves
  meaning and operability.
</p>

<h2 class="govuk-heading-m">Why this matters</h2>
<p class="govuk-body">
  People using keyboards or assistive technologies rely on a predictable focus order
  to understand content and complete tasks. Unexpected jumps can cause errors and frustration.
</p>

<h2 class="govuk-heading-m">Bonus challenge</h2>
<p class="govuk-body">
  Remove the tabindex attributes in dev tools so the buttons follow the natural DOM order.
  How does this change the focus order?
</p>

{% endblock %}

{% block sidebar %}
<aside class="govuk-prototype-kit-common-templates-related-items" role="complementary">
  <h2 class="govuk-heading-m" id="subsection-title">Useful links</h2>
  <nav role="navigation" aria-labelledby="subsection-title">
    <ul class="govuk-list govuk-!-font-size-16">
      <li>
        <a class="govuk-link"
           href="https://www.w3.org/WAI/WCAG22/Understanding/focus-order">
          WCAG 2.2: focus order (2.4.3)
        </a>
      </li>
      <li>
        <a class="govuk-link"
           href="https://webaim.org/techniques/keyboard/tabindex">
          WebAIM: tabindex
        </a>
      </li>
    </ul>
  </nav>
</aside>
{% endblock %}
